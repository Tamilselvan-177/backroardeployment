{% extends "base.twig" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<style>
    .auth-shell {
        background: radial-gradient(circle at top, #f9fafb 0%, #e5e7eb 40%, #f3f4f6 100%);
    }

    @keyframes authFadeUp {
        from { opacity: 0; transform: translateY(24px) scale(0.98); }
        to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    .auth-card {
        animation: authFadeUp .45s ease-out;
        background:#ffffff;
        border-radius:1.25rem;
        box-shadow:
          0 18px 45px rgba(15,23,42,0.18),
          0 0 0 1px rgba(148,163,184,0.35);
        border:1px solid rgba(148,163,184,0.45);
    }

    .auth-title {
        letter-spacing:.22em;
        text-transform:uppercase;
    }

    .auth-chip {
        display:inline-flex;
        align-items:center;
        gap:.4rem;
        padding:.25rem .7rem;
        border-radius:999px;
        background:#020617;
        color:#f9fafb;
        font-size:.65rem;
        letter-spacing:.14em;
        text-transform:uppercase;
    }

    .auth-input {
        border-radius:.9rem;
        border:1px solid #d1d5db;
        background:#f9fafb;
        transition:all .2s ease;
    }
    .auth-input::placeholder { color:#9ca3af; }
    .auth-input:focus {
        background:#ffffff;
        border-color:#020617;
        box-shadow:
          0 0 0 1px #020617,
          0 0 0 4px rgba(15,23,42,0.10);
        outline:none;
        transform:translateY(-1px);
    }

    .auth-label {
        font-size:.78rem;
        letter-spacing:.12em;
        text-transform:uppercase;
        color:#6b7280;
    }

    .auth-btn {
        position:relative;
        overflow:hidden;
        border-radius:.9rem;
        background:#020617;
        color:#f9fafb;
        font-weight:600;
        transition:all .25s ease;
        box-shadow:0 18px 40px rgba(15,23,42,0.55);
    }
    .auth-btn::before{
        content:'';
        position:absolute;
        top:50%;left:50%;
        width:0;height:0;
        border-radius:999px;
        background:rgba(249,250,251,0.16);
        transform:translate(-50%,-50%);
        transition:width .45s ease,height .45s ease;
    }
    .auth-btn:hover{
        transform:translateY(-1px);
    }
    .auth-btn:hover::before{
        width:260px;
        height:260px;
    }

    .auth-link {
        position:relative;
        color:#020617;
        font-weight:500;
        transition:color .2s ease;
    }
    .auth-link::after{
        content:'';
        position:absolute;
        left:0;bottom:-2px;
        width:0;height:1px;
        background:#020617;
        transition:width .2s ease;
    }
    .auth-link:hover{
        color:#000000;
    }
    .auth-link:hover::after{
        width:100%;
    }

    .auth-flash {
        border-radius:.9rem;
        font-size:.85rem;
    }
</style>

<section class="py-14 min-h-screen flex items-center auth-shell">
    <div class="container mx-auto px-4">
        <div class="max-w-md mx-auto auth-card p-8 md:p-9">
            <div class="flex flex-col items-center mb-6">
                <div class="auth-chip mb-3">
                    <span>New Account</span>
                </div>
                <h2 class="auth-title text-[0.8rem] md:text-sm text-center text-[var(--brand-heading)] tracking-[0.3em]">
                    Create Account
                </h2>
            </div>

            {% if errors.register %}
                <div class="auth-flash mb-4 p-4 bg-red-50 border border-red-400 text-red-700">
                    {{ errors.register }}
                </div>
            {% endif %}

            <form method="POST" action="{{ app_url }}/register" class="space-y-5">
                <input type="hidden" name="_token" value="{{ csrf_token }}">

                <!-- Name -->
                <div>
                    <label for="name" class="auth-label block mb-2">Full Name</label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        value="{{ old.name }}" 
                        class="auth-input w-full px-4 py-3"
                        placeholder="John Doe"
                        required
                    />
                    {% if errors.name %}
                        <p class="mt-1 text-sm text-red-600">{{ errors.name }}</p>
                    {% endif %}
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="auth-label block mb-2">Email Address</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        value="{{ old.email }}" 
                        class="auth-input w-full px-4 py-3"
                        placeholder="you@example.com"
                        required
                    />
                    {% if errors.email %}
                        <p class="mt-1 text-sm text-red-600">{{ errors.email }}</p>
                    {% endif %}
                </div>

                <!-- Phone -->
                <div>
                    <label for="phone" class="auth-label block mb-2">Phone Number</label>
                    <input 
                        type="tel" 
                        id="phone" 
                        name="phone" 
                        value="{{ old.phone }}" 
                        class="auth-input w-full px-4 py-3"
                        placeholder="9876543210"
                        maxlength="10"
                        required
                    />
                    {% if errors.phone %}
                        <p class="mt-1 text-sm text-red-600">{{ errors.phone }}</p>
                    {% endif %}
                </div>

                <!-- Password -->
                <div>
                    <label for="password" class="auth-label block mb-2">Password</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        class="auth-input w-full px-4 py-3"
                        placeholder="••••••••"
                        required
                    />
                    {% if errors.password %}
                        <p class="mt-1 text-sm text-red-600">{{ errors.password }}</p>
                    {% endif %}
                </div>

                <!-- Confirm Password -->
                <div>
                    <label for="confirm_password" class="auth-label block mb-2">Confirm Password</label>
                    <input 
                        type="password" 
                        id="confirm_password" 
                        name="confirm_password" 
                        class="auth-input w-full px-4 py-3"
                        placeholder="••••••••"
                        required
                    />
                    {% if errors.confirm_password %}
                        <p class="mt-1 text-sm text-red-600">{{ errors.confirm_password }}</p>
                    {% endif %}
                </div>

                <!-- Submit Button -->
                <button 
                    type="submit" 
                    class="auth-btn w-full py-3.5 px-4 mt-2"
                >
                    Create Account
                </button>
            </form>

            <!-- Login Link -->
            <p class="mt-6 text-center text-xs md:text-sm text-gray-700">
                Already have an account? 
                <a href="{{ app_url }}/login" class="auth-link">Login here</a>
            </p>
        </div>
    </div>
</section>
{% endblock %}
